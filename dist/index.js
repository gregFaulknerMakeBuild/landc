"use strict";(()=>{var s=(t,o=document)=>o.querySelector(t)??void 0;var l=(t,o=document)=>{let e=o.querySelectorAll(t);return e.length?[...e]:[]};var u=(t,o)=>{console.log("output"),l("[data-calc-output]",t).forEach(n=>{let r=n.dataset.calcOutput;n.textContent=o.result[r]})};var g="https://landc-website.azurewebsites.net/api/calculatorhttptrigger";async function m(t,o){let e=new Headers;e.append("Content-Type","application/json");let n=JSON.stringify({calculator:t,input:o}),r=await fetch(g,{method:"POST",headers:e,body:n});if(!r.ok)throw new Error(`API responded with status ${r.status}`);return r.json()}var p=()=>{console.log("calculators");let t="data-calc",o=l(`[${t}]`);console.log(o),o.forEach(e=>{let n=s(`[${t}="button"]`,e);n&&n.addEventListener("click",async()=>{let r=s(`[${t}="button-text"]`,n),c=s(`[${t}="button-loader"]`);c&&(c.style.opacity="1"),n.style.color="transparent";let f=l(`[${t}-input]`,e),i={};f.forEach(a=>{let y=a.dataset.calcInput;i[y]=a.value});try{console.time("API Request");let a=await m(e.dataset.calc.toString(),i);console.timeEnd("API Request"),u(e,a)}catch(a){console.error("Error retrieving calculation",a),r&&(r.textContent="Try again",n.style.removeProperty("color"),c&&(c.style.opacity="0"))}})})};var d=()=>{console.log("dialogs");let t="data-dialog",o=l(`[${t}="component"]`);console.log(o),o.forEach(e=>{let n=s(`[${t}="open"]`,e),r=s("dialog",e),c=s(`[${t}="close"]`);!n||!r||!c||(n.addEventListener("click",()=>{r.showModal()}),c.addEventListener("click",()=>{r.close()}))})};var E=()=>{console.log("components"),d()};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{E(),p()});})();
