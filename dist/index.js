"use strict";(()=>{var l=(t,n=document)=>n.querySelector(t)??void 0;var c=(t,n=document)=>{let e=n.querySelectorAll(t);return e.length?[...e]:[]};var i=(t,n)=>{console.log("output"),c("[data-calc-output]",t.calculator).forEach(o=>{let r=o.dataset.calcOutput;o.textContent=n.result[r]}),t.buttonText.textContent="Recalculate",t.button.style.removeProperty("color"),t.loader.style.opacity="0"};var T="https://landc-website.azurewebsites.net/api/calculatorhttptrigger";async function m(t,n){let e=new Headers;e.append("Content-Type","application/json");let o=JSON.stringify({calculator:t,input:n}),r=await fetch(T,{method:"POST",headers:e,body:o});if(!r.ok)throw new Error(`API responded with status ${r.status}`);return r.json()}var p=()=>{console.log("calculators");let t="data-calc",n=c(`[${t}]`);console.log(n),n.forEach(e=>{let o=l(`[${t}="button"]`,e);o&&o.addEventListener("click",async()=>{let r=l(`[${t}="button-text"]`,o),s=l(`[${t}="button-loader"]`);s&&(s.style.opacity="1"),o.style.color="transparent";let E=c(`[${t}-input]`,e),u={};E.forEach(a=>{let f=a.dataset.calcInput;u[f]=a.value});try{console.time("API Request");let a=await m(e.dataset.calc.toString(),u);console.timeEnd("API Request"),i({component:e,buttonText:r,button:o,loader:s},a)}catch(a){console.error("Error retrieving calculation",a),r&&(r.textContent="Try again",o.style.removeProperty("color"),s&&(s.style.opacity="0"))}})})};var d=()=>{console.log("dialogs");let t="data-dialog",n=c(`[${t}="component"]`);console.log(n),n.forEach(e=>{let o=l(`[${t}="open"]`,e),r=l("dialog",e),s=l(`[${t}="close"]`);!o||!r||!s||(o.addEventListener("click",()=>{r.showModal()}),s.addEventListener("click",()=>{r.close()}))})};var y=()=>{console.log("components"),d()};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{y(),p()});})();
