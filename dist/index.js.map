{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/utils/queryElement.ts", "../src/utils/queryelements.ts", "../src/calculators/output.ts", "../src/calculators/request.ts", "../src/calculators/index.ts", "../src/components/dialogs.ts", "../src/components/index.ts", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/**\n * Retrieves the DOM element based on the provided query and returns them in an array\n */\nexport const queryElement = <T extends HTMLElement>(\n  query: string,\n  parent: Element | Document = document\n): T | undefined => {\n  const element = parent.querySelector<T>(query);\n  return element ?? undefined;\n};\n", "/**\n * Retrieves the DOM elements based on the provided query and returns them in an array\n */\nexport const queryElements = <T extends HTMLElement | SVGElement>(\n  query: string,\n  parent: Element | Document = document\n): T[] => {\n  const elements = parent.querySelectorAll<T>(query);\n  return elements.length ? [...elements] : [];\n};\n", "import { queryElements } from '$utils/queryelements';\n\nexport const output = (config: any, result: any) => {\n  // eslint-disable-next-line no-console\n  console.log('output');\n\n  const calcOutputs = queryElements('[data-calc-output]', config.calculator);\n\n  calcOutputs.forEach((calcOutput) => {\n    const name = calcOutput.dataset.calcOutput;\n    calcOutput.textContent = result.result[name];\n  });\n\n  config.buttonText.textContent = 'Recalculate';\n  config.button.style.removeProperty('color');\n  config.loader.style.opacity = '0';\n};\n", "const API_ENDPOINT = 'https://landc-website.azurewebsites.net/api/calculatorhttptrigger';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function request(calculator: string, input: any) {\n  const headers = new Headers();\n  headers.append('Content-Type', 'application/json');\n\n  const body = JSON.stringify({ calculator, input });\n\n  const response = await fetch(API_ENDPOINT, {\n    method: 'POST',\n    headers,\n    body,\n  });\n\n  if (!response.ok) {\n    throw new Error(`API responded with status ${response.status}`);\n  }\n\n  return response.json();\n}\n", "/* eslint-disable no-console */\nimport { queryElement } from '$utils/queryElement';\nimport { queryElements } from '$utils/queryelements';\n\nimport { output } from './output';\nimport { request } from './request';\n\nexport const calculators = () => {\n  console.log('calculators');\n\n  const attr = 'data-calc';\n  const components = queryElements<HTMLDivElement>(`[${attr}]`);\n\n  console.log(components);\n\n  components.forEach((component) => {\n    const button = queryElement<HTMLButtonElement>(`[${attr}=\"button\"]`, component);\n    if (!button) return;\n\n    button.addEventListener('click', async () => {\n      const buttonText = queryElement<HTMLDivElement>(`[${attr}=\"button-text\"]`, button);\n      const loader = queryElement<HTMLDivElement>(`[${attr}=\"button-loader\"]`);\n      if (loader) loader.style.opacity = '1';\n      button.style.color = 'transparent';\n\n      const calcInputs = queryElements(`[${attr}-input]`, component);\n\n      const input = {};\n      calcInputs.forEach((calcInput) => {\n        const key = calcInput.dataset.calcInput;\n        input[key] = calcInput.value;\n      });\n\n      try {\n        console.time('API Request');\n        const result = await request(component.dataset.calc.toString(), input);\n        console.timeEnd('API Request');\n\n        output({ component, buttonText, button, loader }, result);\n      } catch (error) {\n        console.error('Error retrieving calculation', error);\n        if (buttonText) {\n          buttonText.textContent = 'Try again';\n          button.style.removeProperty('color');\n          if (loader) loader.style.opacity = '0';\n        }\n      }\n    });\n  });\n};\n", "import { queryElement } from '$utils/queryElement';\nimport { queryElements } from '$utils/queryelements';\n\nexport const dialogs = () => {\n  // eslint-disable-next-line no-console\n  console.log('dialogs');\n\n  const attr = 'data-dialog';\n  const components = queryElements<HTMLDivElement>(`[${attr}=\"component\"]`);\n\n  console.log(components);\n\n  components.forEach((component) => {\n    // get the required elemenets\n    const open = queryElement<HTMLButtonElement>(`[${attr}=\"open\"]`, component);\n    const dialog = queryElement<HTMLDialogElement>('dialog', component);\n    const close = queryElement<HTMLButtonElement>(`[${attr}=\"close\"]`);\n\n    if (!open || !dialog || !close) return;\n\n    // open the dialog\n    open.addEventListener('click', () => {\n      dialog.showModal();\n    });\n\n    // close the dialog\n    close.addEventListener('click', () => {\n      dialog.close();\n    });\n  });\n};\n", "import { dialogs } from './dialogs';\n\nexport const components = () => {\n  // eslint-disable-next-line no-console\n  console.log('components');\n\n  dialogs();\n};\n", "import { calculators } from './calculators';\nimport { components } from './components';\n\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  components();\n  calculators();\n});\n"],
  "mappings": "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",
  "names": ["components", "components"]
}
